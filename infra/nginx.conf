events {}
http {
  server {
    listen 80;
    location /api/ { proxy_pass http://backend-api:3000/api/; }
    location /webhook/ { proxy_pass http://backend-api:3000/webhook/; }
    location /ws/ { proxy_pass http://backend-api:3000/ws/; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection "Upgrade"; }
    location /mines/ { root /usr/share/nginx/html; try_files $uri $uri/ /mines/index.html; }
    location /aviator/ { root /usr/share/nginx/html; try_files $uri $uri/ /aviator/index.html; }
    location / { return 200 'OK'; add_header Content-Type text/plain; }
  }
}
